{% extends 'base.html' %}

{% block content %}
<style>
    .container {
        width: 80%; 
        margin: 0 auto;  
    }
    .image-cell img {
        max-width: 100px; 
        max-height: 100px;
    }
    table thead {
        background-color: #4CAF50; 
        color: #fff; 
    }
    table tbody tr:nth-child(odd) {
        background-color: #e6ffe6; 
        color: #000; 
    }
    table tbody tr:nth-child(even) {
        background-color: #f0f0f0; 
    }
    .title {
        margin-left: 35%;
    }
</style>

<div class="container">
    <div class="title" >
        <h1>Prediction History</h1>
    </div>
    <div class="table-responsive">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Image</th>
                    <th>Predicted Label</th>
                    <th>Confidence</th>
                    <th>Recommended Products</th>
                    <th>Timestamp</th>
                </tr>
            </thead>
            <tbody>
                {% for prediction in predictions %}
                <tr>
                    <td class="image-cell"><img src="{{ prediction.image_path }}" alt="Predicted Image"></td>
                    <td>{{ prediction.predicted_label }}</td>
                    <td>{{ prediction.confidence }}%</td>
                    <td>
                        <ul>
                            {% for product in prediction.recommended_products %}
                                <li>{{ product }}</li>
                            {% endfor %}
                        </ul>
                    </td>
                    <td>{{ prediction.timestamp }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="10">No predictions yet.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
