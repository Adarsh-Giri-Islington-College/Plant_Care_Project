{% extends 'base.html' %}

{% block content %}

<div class="container">
  {% if user_orders %}
    <h1>Your Order History</h1>
    <ul class="list-group">
      {% for order in user_orders %}
        <li class="list-group-item">
          <h4>Order Date: {{ order.order_date }}</h4>
          <p><strong>Total Price:</strong> ${{ order.total_price }}</p>
          <div class="row">
            {% for item in order.orderitem_set.all %}
              <div class="col-md-4">
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">Product Name: {{ item.product.product_name }}</h5>
                    <p class="card-text"><strong>Quantity:</strong> {{ item.quantity }}</p>
                    <p class="card-text"><strong>Subtotal:</strong> ${{ item.sub_total }}</p>
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No orders found.</p>
  {% endif %}
</div>

{% endblock %}
